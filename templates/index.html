{% extends "base.html" %}

{% block title %} CookBook {% endblock %}

{% block content %}
           
{% with messages = get_flashed_messages(with_categories=true) %} {% if messages %}
    <ul class=flashes>
        {% for category, message in messages %}
        <li class="{{ category }}">{{ message }}</li>
        {% endfor %}
    </ul>
{% endif %} {% endwith %}

<div class="row mb-2">
    {% for recipe in recipes %}
    <div class="col-md-6">
        <div class="card flex-md-row mb-4 box-shadow h-md-250">
            <div class="card-body">
                <strong class="d-inline-block mb-2 text-primary">{{ recipe.cuisine | capitalize }}</strong>
                <div class="card-body-thumbs">
                    <i class="fa fa-thumbs-up">{{ recipe.likes }}</i>
                    <i class="fa fa-thumbs-down">{{ recipe.dislikes }}</i>
                </div>
                
                <h3 class="card-title">
                    <a class="text-dark" href="{{ url_for('recipe', recipe_id=recipe._id) }}">{{ recipe.title | capitalize }}</a>
                </h3>
            </div>
            <div class="card-img-wrap">
                {% if author_id == recipe.author_id %}
                <a href="{{ url_for('edit_recipe', recipe_id=recipe._id) }}" type="button" class="btn btn-success btn-sm" role="button">Edit Recipe</a>
                {% endif %}
                <img class="" src="{{ recipe.img_url }}" alt="Card image cap">
            </div>
        </div>
    </div>
    
    {% endfor %}
    

</div>

{% endblock %}